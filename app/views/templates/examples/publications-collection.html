{% extends "example-template-leftbar.html" %}

{% block pageTitle %}Publications Collection - Examples - NWP Prototype Kit{% endblock %}

{% block pageBreadcrumbs %}
  {{
  breadcrumb({
    items: [
      {
        href: "/",
        text: "Home"
      }
    ],
    href: "/templates/examples/publications-collection",
    text: "News Collection"
  })
  }}
{% endblock %}

{% block pageHeader %}
  <div class="nhsuk-width-container">
    <h1>Publications Collection</h1>
    <span class="nhsuk-caption-xl">Caption</span>
    <p class="nhsuk-lede-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Rutrum sit sed porta viverra. Amet, tincidunt cras augue justo, proin mollis sapien. Sed cursus quam suspendisse.</p>
  </div>
{% endblock %}

{% block pageLeftbar %}
  {{ filter({
    groups: [
      {
        type: "select",
        name: "profession",
        title: "Profession",
        showClearToggle: true,
        items: [
          {
            text: "All professions",
            value: ""
          },
          {
            text: "Allied health professionals",
            value: "allied_health_professionals"
          },
          {
            text: "Dental professionals",
            value: "dental_professionals",
            selected: true
          },
          {
            text: "Medical doctors",
            value: "medical_doctors"
          },
          {
            text: "Public health professionals",
            value: "public_health_professionals"
          }
        ],
        subGroup: {
          type: "selectbox",
          name: "sub_profession",
          title: "Sub profession",
          items: [
            {
              text: "All sub professions",
              value: ""
            },
            {
              text: "Dental nurse",
              value: "dental_nurse",
              selected: true
            },
            {
              text: "Dental therapist",
              value: "dental_therapist"
            },
            {
              text: "Dentist",
              value: "dentist"
            }
          ]
        }
      },
      {
        type: "checkbox",
        title: "Publication type",
        showClearToggle: true,
        items: [
          {
            text: "Briefing",
            value: "briefing"
          },
          {
            text: "Consultation",
            value: "consultation",
            checked: true
          },
          {
            text: "Data and statistics",
            value: "data_statistics"
          },
          {
            text: "FOI release",
            value: "foi_release"
          },
          {
            text: "Guidance",
            value: "guidance",
            checked: true
          },
          {
            text: "Independent report",
            value: "independent_report"
          },
          {
            text: "Letter",
            value: "letter"
          },
          {
            text: "Policy or strategy",
            value: "policy_strategy"
          }
        ]
      }
    ]
  }) }}
{% endblock %}

{% block pageContent %}
  {% set selectAttributes = {
    id: "sort",
    name: "sort",
    label: {
      text: "Sort by"
    },
    items: [
      {
        value: "newest",
        text: "Newest"
      },
      {
        value: "relevance",
        text: "Relevance"
      }
    ]
  } %}

  {% set submitAttributes = {
    text: "Update",
    classes: "hee-listing__filter__submit"
  } %}

  {% set items = [] %}
  {% for i in range(0, 10) -%}
    {% set item = {
      title: "Publication item #" + loop.index,
      href: "#",
      details: [
        {
          label: "Publications type:",
          value: "Briefing"
        },
        {
          label: "Publish date:",
          value: "07 September 2022"
        }
      ],
      summary: "Porttitor nulla pellentesque sit consequat, euismod sociis tempor, malesuada. Non senectus a placerat urna, nibh sed aliquam natoque. Diam gravida sit ullamcorper cras eu et mattis donec."
    } %}
    {% set items = (items.push(item), items) %}
  {% endfor %}

  {{ listingLayout({
    filter: {
      select: selectAttributes,
      submit: submitAttributes
    },
    tags: [
      {
        groupLabel: "Profession",
        items: [
          {
            text: "Dental professionals",
            value: "dental_professionals"
          },
          {
            text: "Dental nurse",
            value: "dental_nurse"
          }
        ]
      },
      {
        groupLabel: "Publication",
        items: [
          {
            text: "Consultation",
            value: "consultation"
          },
          {
            text: "Guidance",
            value: "guidance"
          }
        ]
      }
    ],
    results: items,
    emptyMessage: "No results",
    showPagination: true
  }) }}
{% endblock %}