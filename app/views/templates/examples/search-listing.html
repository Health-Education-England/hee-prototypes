{% extends "includes/_example-template-fullwidth.html" %}

{% set page_url = 'search-listing' %}
{% set page_title = 'Search results' %}

{% block pageClass %}page--search{% endblock %}

{% block pageTitle %}{{ page_title }} - Examples - NWP Prototype Kit{% endblock %}

{% block breadcrumbs %}
  {{
    breadcrumb({
      items: [
        {
          href: basePath + "/",
          text: "Home"
        },
        {
          href: basePath + "/templates",
          text: "Templates"
        },
        {
          href: basePath + "/templates/examples",
          text: "Examples"
        }
      ],
      href: basePath + "/templates/examples/"+page_url,
      text: page_title
    })
  }}
{% endblock %}

{% block pageHeader %}
<div class="nhsuk-width-container">
  <h1>Search results</h1>

  {{ searchForm({
    label: "Enter a search term",
    placeholder: "Type search here",
    submitLabel: "Submit"
  }) }}
</div>
{% endblock %}

{% block pageMain %}
  <div class="page__main nhsuk-width-container">
    {% set items = [] %}
    {% for i in range(0, 10) -%}
      {% set item_details = [
        {
          label: "Date:",
          value: "21 July 2021"
        },
        {
          label: "Location:",
          value: "Birmingham"
        }
      ] %}

      {% if loop.index is even %}
        {% set item_details = item_details.concat([
          {
            label: "File type:",
            value: "<span class=\"hee-resources__tag hee-resources__pdf\">PDF</span>"
          },
          {
            label: "File size:",
            value: "836KB"
          }
        ]) %}
      {% endif %}

      {% set item = {
        title: "Assessment of Dental Core competency #" + loop.index,
        href: "#",
        details: item_details,
        summary: "Dental Core competency must be demonstrated at the end of UK Dental Core Training year 1 (DCT1)"
      } %}
      {% set items = (items.push(item), items) %}
    {% endfor %}

    {{ searchListing({
      count: "187",
      results: items,
      emptyMessage: "No results",
      showPagination: true
    }) }}
  </div>
{% endblock %}
