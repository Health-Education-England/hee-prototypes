(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}const i=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.toggleLink=this.container.querySelector("a"),this.parentList=this.container.parentNode,this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.toggleLink&&(this.toggleLink.addEventListener("click",(function(t){return t.preventDefault()})),this.toggleLink.addEventListener("mousedown",(function(e){return t.toggleMenu(e)})),this.toggleLink.addEventListener("keyup",(function(e){13===e.keyCode&&t.toggleMenu(e)})))}},{key:"handleState",value:function(){var t=this,e=document.querySelectorAll(".nhsuk-subnav.is-active");e.forEach((function(e){e!=t.container?(e.classList.remove("is-active"),e.toggleAttribute("aria-expanded")):t.toggleClass(t.parentList,"subnav-open")})),0===e.length&&this.toggleClass(this.parentList,"subnav-open")}},{key:"toggleMenu",value:function(t){this.handleState(),this.toggleClass(this.container,"is-active"),this.toggleAttribute(this.container,"aria-expanded")}},{key:"toggleClass",value:function(t,e){t&&e&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))}},{key:"toggleAttribute",value:function(t,e){if(t&&e){var n="true"===t.getAttribute(e)?"false":"true";t.setAttribute(e,n)}}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("nhsuk-subnav"),function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}));var n=document.querySelector("#close-menu");function i(t){var e=document.querySelector(".nhsuk-header__navigation.js-show");if(e){var n=t.target!==e,r=t.target!==document.querySelector("#toggle-menu"),o=t.target.closest(".nhsuk-header__navigation.js-show");n&&r&&!o&&e.classList.remove("js-show")}var i=document.querySelector(".nhsuk-subnav.is-active");if(i){var a=t.target!==i,s=t.target.closest(".nhsuk-subnav.is-active");a&&!s&&(i.classList.remove("is-active"),document.querySelector(".nhsuk-header__navigation-list").classList.remove("subnav-open"))}}n&&n.addEventListener("mousedown",(function(){document.querySelector("#toggle-menu").focus()})),document.addEventListener("keyup",(function(t){13===t.keyCode&&i(t)})),document.addEventListener("mousedown",i)};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}const h=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.toggleBtn=this.container.querySelector("button.hee-anchorlinks__sticky__btn"),this.stickyAnchorLinks=this.container.querySelector(".hee-anchorlinks"),this.sidebarAnchorLinks=document.querySelector(".page__rightbar .hee-anchorlinks"),this.addEventListeners(),this.toggleStickyToolbar()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.toggleBtn.addEventListener("mousedown",(function(){return t.toggleStickyAnchorLinks()})),this.toggleBtn.addEventListener("keyup",(function(e){13===e.keyCode&&t.toggleStickyAnchorLinks()})),this.stickyAnchorLinks.addEventListener("click",(function(e){"A"===e.target.tagName&&t.toggleStickyAnchorLinks()})),this.toggleBtn.addEventListener("keyup",(function(e){"A"===e.target.tagName&&13===e.keyCode&&t.toggleStickyAnchorLinks()})),window.addEventListener("scroll",(function(){t.toggleStickyToolbar()}))}},{key:"toggleStickyAnchorLinks",value:function(){this.toggleBtn.classList.toggle("active"),this.stickyAnchorLinks.classList.toggle("is-sticky"),"false"===this.container.getAttribute("aria-expanded")?this.container.setAttribute("aria-expanded","true"):this.container.setAttribute("aria-expanded","false"),this.stickyAnchorLinks.querySelector("a:first-of-type").focus()}},{key:"toggleStickyToolbar",value:function(){this.isElementInViewport(this.sidebarAnchorLinks.querySelector("h2"))?this.container.classList.remove("active"):this.container.classList.add("active")}},{key:"isElementInViewport",value:function(t){var e=t.getBoundingClientRect(),n=t.offsetHeight,r=t.offsetWidth;return e.top>=-n&&e.left>=-r&&e.right<=(window.innerWidth||document.documentElement.clientWidth)+r&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)+n}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("hee-anchorlinks__sticky"),function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===d(o)?o:String(o)),r)}var o}const v=function(){var t,e=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableContents=e,this.containerSelector=".page__main",this.headingSelector="h2.toc_h2",this.subHeadingSelector="h3.toc_h3",this.headingPrefix="hee-toc-heading",this.tableContents.hasAttribute("data-toc-js")){var n=document.querySelectorAll(this.containerSelector+" "+this.headingSelector);if(0!==n.length){var r=this.createTocLinks(n);this.setTocListMarkup(r),n=[].slice.call(n,1),this.setBackToTopLinks(n);var o=document.querySelectorAll(this.containerSelector+" "+this.subHeadingSelector);o.length>0&&this.setBackToTopLinks(o)}}}var e,n;return e=t,(n=[{key:"createTocLinks",value:function(t){var e=this,n=[];return t.forEach((function(t,r){var o=e.headingPrefix+"-"+r;t.setAttribute("id",o);for(var i={title:e.getHeadingTitle(t),anchor:o,children:[]},a=t.nextElementSibling,s=0;a&&!a.classList.contains("toc_h2");){if("H3"===a.tagName&&a.classList.contains("toc_h3")){var u=o+"-"+s;a.setAttribute("id",u),i.children.push({title:e.getHeadingTitle(a),anchor:u}),s++}a=a.nextElementSibling}n.push(i)})),n}},{key:"getHeadingTitle",value:function(t){return t.hasAttribute("data-short-title")?t.dataset.shortTitle:t.innerText}},{key:"setTocListMarkup",value:function(t){var e=this,n=document.createElement("ul");t.forEach((function(t){var r=document.createElement("li");t.children.length>0&&r.classList.add("has-children");var o=document.createElement("div");o.classList.add("hee-anchorlinks__wrapper"),t.children.length>0?o.classList.add("chevron"):o.classList.add("circle");var i=document.createElement("span");t.children.length>0?i.innerHTML=e.getChevronSVG():i.innerHTML=e.getCircleSVG(),o.append(i);var a=document.createElement("a");if(a.setAttribute("href","#"+t.anchor),a.innerText=t.title,o.append(a),r.append(o),t.children.length>0){var s=document.createElement("ul");t.children.forEach((function(t){var e=document.createElement("li"),n=document.createElement("a");n.setAttribute("href","#"+t.anchor),n.innerText=t.title,e.append(n),s.append(e)})),r.append(s)}n.append(r)})),this.tableContents.append(n)}},{key:"createBackToTopLink",value:function(){var t=document.createElement("div");t.classList.add("hee-back-to-top");var e=document.createElement("a");return e.setAttribute("href","#maincontent"),e.setAttribute("title","Back to top"),e.innerText="Back to top",t.append(e),t}},{key:"setBackToTopLinks",value:function(t){var e=this;t.forEach((function(t,n){if(!t.hasAttribute("data-has-top-link")){var r=e.createBackToTopLink();t.parentNode.insertBefore(r,t),t.setAttribute("data-has-top-link",1)}}))}},{key:"getChevronSVG",value:function(){return'<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.00019 6.99994C8.00095 7.13155 7.97572 7.26201 7.92596 7.38385C7.87619 7.50569 7.80287 7.6165 7.71019 7.70994L2.71019 12.7099C2.61695 12.8032 2.50626 12.8771 2.38443 12.9276C2.26261 12.9781 2.13204 13.004 2.00019 13.004C1.86833 13.004 1.73776 12.9781 1.61594 12.9276C1.49411 12.8771 1.38342 12.8032 1.29018 12.7099C1.19695 12.6167 1.12299 12.506 1.07253 12.3842C1.02206 12.2624 0.996094 12.1318 0.996094 11.9999C0.996094 11.8681 1.02206 11.7375 1.07253 11.6157C1.12299 11.4939 1.19695 11.3832 1.29018 11.2899L5.59019 6.99994L1.29018 2.70994C1.10188 2.52164 0.996094 2.26624 0.996094 1.99994C0.996094 1.73364 1.10188 1.47825 1.29018 1.28994C1.47849 1.10164 1.73388 0.99585 2.00019 0.99585C2.26649 0.99585 2.52188 1.10164 2.71019 1.28994L7.71019 6.28994C7.80287 6.38338 7.87619 6.4942 7.92596 6.61603C7.97572 6.73787 8.00095 6.86833 8.00019 6.99994Z" fill="black"/></svg>'}},{key:"getCircleSVG",value:function(){return'<svg width="3" height="3" viewBox="0 0 3 3" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="1.5" cy="1.5" r="1.5" fill="black"/></svg>'}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("hee-anchorlinks"),function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}const L=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.toggles=e.querySelectorAll("a"),console.log(this.container),console.log(this.toggles),this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.toggles&&this.toggles.forEach((function(e){return e.addEventListener("click",(function(e){return t.toggletranscript(e)}))}))}},{key:"toggletranscript",value:function(){this.isCollapsed()?this.container.classList.remove("hee-media__transcript-expanded"):this.container.classList.add("hee-media__transcript-expanded")}},{key:"isCollapsed",value:function(){return!!this.container.classList.contains("hee-media__transcript-expanded")}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("hee-media__transcript"),function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function _(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}const P=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.newsletter=e,this.requiredInputs=e.querySelectorAll("[required]"),this.errors=[],this.init(),window.recaptchaCallback=this.recaptchaCallback}var e,n;return e=t,(n=[{key:"init",value:function(){this.resetForm(),this.addEvents()}},{key:"addEvents",value:function(){var t=this;this.requiredInputs.forEach((function(e){e.addEventListener("focusout",(function(e){return t.validate(e.target)}))}))}},{key:"validate",value:function(t){var e=document.getElementById("errors-"+t.name),n=document.getElementById("error-summary-"+t.name);"firstname"==t.name||"lastname"==t.name?this.errorEmpty(t,e,n):"email"==t.name?this.errorEmail(t,e,n):"consent"==t.name&&this.errorConsent(t,e,n),this.updateSummary()}},{key:"updateSummary",value:function(){var t=document.getElementById("error-summary");this.errors.length>0?t.style.display="block":t.style.display="none"}},{key:"errorEmpty",value:function(t,e,n){this.isEmpty(t.value)?this.showError(t,e,n):this.hideError(t,e,n)}},{key:"errorEmail",value:function(t,e,n){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?this.hideError(t,e,n):this.showError(t,e,n)}},{key:"errorConsent",value:function(t,e,n){t.checked?this.hideError(t,e,n):this.showError(t,e,n)}},{key:"hideError",value:function(t,e,n){t.parentElement.classList.remove("nhsuk-form-group--error"),e.style.display="none",n.style.display="none",this.errors=this.errors.filter((function(e){return e!==t.name}))}},{key:"showError",value:function(t,e,n){t.parentElement.classList.add("nhsuk-form-group--error"),e.style.display="block",n.style.display="block",this.errors=this.errors.filter((function(e){return e!==t.name})),this.errors.push(t.name)}},{key:"isEmpty",value:function(t){return!t.trim().length}},{key:"resetForm",value:function(){this.newsletter.querySelectorAll(".nhsuk-error-message").forEach((function(t){t.style.display="none"})),this.newsletter.querySelectorAll(".nhsuk-form-group--error").forEach((function(t){t.classList.remove("nhsuk-form-group--error")})),this.newsletter.querySelectorAll(".nhsuk-error-summary").forEach((function(t){t.style.display="none"})),this.newsletter.querySelectorAll(".error-summary-item").forEach((function(t){t.style.display="none"}))}},{key:"recaptchaCallback",value:function(){document.querySelector('form#newsletter-form button[type="submit"]').removeAttribute("disabled")}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("nhsuk-newsletter-form"),function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===I(o)?o:String(o)),r)}var o}const H=function(){var t,e=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tabcomponent=e,this.init()}var e,n;return e=t,n=[{key:"init",value:function(){var t=this,e=this.tabcomponent.querySelectorAll('[role="tab"]'),n=this.tabcomponent.querySelector('[role="tablist"]');e.forEach((function(e){e.addEventListener("click",(function(e){return t.changeTabs(e)}))}));var r=0;n.addEventListener("keydown",(function(t){39!==t.keyCode&&37!==t.keyCode||(e[r].setAttribute("tabindex",-1),39===t.keyCode?++r>=e.length&&(r=0):37===t.keyCode&&--r<0&&(r=e.length-1),e[r].setAttribute("tabindex",0),e[r].focus())}))}},{key:"changeTabs",value:function(t){var e=t.target,n=e.parentNode,r=n.parentNode,o=n.getElementsByClassName("nhsuk-tabs__list-item--selected")[0],i=r.classList.contains("nhsuk-tabs__mobile");e==o&&i?(this.removeSelected(n),this.hideTabs(r)):(this.removeSelected(n),this.setSelected(e),this.hideTabs(r),this.showSelected(r.parentNode,e))}},{key:"removeSelected",value:function(t){t.querySelectorAll('[aria-selected="true"]').forEach((function(t){return t.setAttribute("aria-selected",!1)})),t.querySelectorAll(".nhsuk-tabs__list-item--selected").forEach((function(t){return t.classList.remove("nhsuk-tabs__list-item--selected")}))}},{key:"setSelected",value:function(t){t.setAttribute("aria-selected",!0),t.classList.add("nhsuk-tabs__list-item--selected")}},{key:"hideTabs",value:function(t){t.querySelectorAll('[role="tabpanel"]').forEach((function(t){return t.setAttribute("hidden",!0)}))}},{key:"showSelected",value:function(t,e){t.querySelector("#".concat(e.getAttribute("aria-controls"))).removeAttribute("hidden")}}],n&&M(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("nhsuk-tabs"),function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t,n){return new e(t,n)}))};function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}const D=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableCard=e,this.toggleLink=this.tableCard.querySelector(".hee-table-expander__toggle a"),this.expanders=this.tableCard.querySelectorAll(".nhsuk-expander"),this.stateOpen=!1,null!==this.toggleLink&&(this.toggleLink.innerText=this.toggleLink.dataset.labelOpen,this.addEventListeners(),this.initExpanderObserver())}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.toggleLink.addEventListener("click",(function(e){e.preventDefault(),t.toggleExpanders()})),this.toggleLink.addEventListener("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),t.toggleExpanders())}))}},{key:"initExpanderObserver",value:function(){var t=this,e=new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&"open"===e.attributeName&&t.updateToggleState()}))}));this.expanders.forEach((function(t){e.observe(t,{attributes:!0})}))}},{key:"toggleExpanders",value:function(){var t=this;this.expanders.forEach((function(e){t.stateOpen?t.closeExpander(e):t.openExpander(e)})),this.stateOpen=!this.stateOpen,this.stateOpen?this.toggleLink.innerText=this.toggleLink.dataset.labelClose:this.toggleLink.innerText=this.toggleLink.dataset.labelOpen}},{key:"updateToggleState",value:function(){var t=!1;this.expanders.forEach((function(e){t=!!e.hasAttribute("open")})),this.stateOpen=!!t,this.stateOpen?this.toggleLink.innerText=this.toggleLink.dataset.labelClose:this.toggleLink.innerText=this.toggleLink.dataset.labelOpen}},{key:"openExpander",value:function(t){var e=t.querySelector(".nhsuk-details__summary"),n=t.querySelector(".nhsuk-details__text");e.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),t.setAttribute("open","open")}},{key:"closeExpander",value:function(t){var e=t.querySelector(".nhsuk-details__summary"),n=t.querySelector(".nhsuk-details__text");e.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),t.removeAttribute("open")}}])&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("hee-table-expander"),function(t){if(Array.isArray(t))return F(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function R(t){return function(t){if(Array.isArray(t))return V(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$(o)?o:String(o)),r)}var o}function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}const J=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=e,this.icon=e.querySelector(".nhsuk-filter-tag__icon"),this.setUp(),this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.tag.addEventListener("click",(function(e){return t.removeFilter(e)}))}},{key:"removeFilter",value:function(t){t.preventDefault(),document.querySelectorAll("input[value='".concat(this.tag.dataset.filter,"']")).forEach((function(t){t.checked=!1,t.dispatchEvent(new Event("change"))})),this.tag.remove()}},{key:"setUp",value:function(){this.tag.classList.add("nhsuk-filter-tag--js"),this.icon&&(this.icon.hidden=!1)}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(t=document.getElementsByClassName("nhsuk-filter-tag"),function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};document.addEventListener("DOMContentLoaded",(function(){var t,n,r,o;H(),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.anchorLinks=e,this.anchorLinks.hasAttribute("data-toc-js")||(this.anchorLinks.hidden=!0,this.foundHeadings=this.findHeadings(e.dataset.headings),this.foundHeadings.length?this.addAnchorsToPage():this.anchorLinks.hidden=!1)}var e,n;return e=t,(n=[{key:"findHeadings",value:function(t){var e=[];return t&&document.querySelectorAll(t).forEach((function(t,n){t.id||(t.id=t.innerText.replace(/ .*/,"").replace(/[\n\r]/g,"").replace(/\s/g,"").toLowerCase()+n),e.push(t)})),e}},{key:"appearsOnRightPageColumn",value:function(t,e){return s(document.querySelectorAll(e)).some((function(e){return e!==t&&e.contains(t)}))}},{key:"addAnchorsToPage",value:function(){var t=this,e=document.createElement("ul");this.foundHeadings.forEach((function(n){if(!(n.dataset.anchorlinksignore||n.classList.contains("nhsuk-u-visually-hidden")||n.classList.contains("nhsuk-card__heading")||t.appearsOnRightPageColumn(n,".nhsuk-grid-column-one-third"))){var r=document.createElement("li"),o=document.createElement("a");o.href="#"+n.id;for(var i=n.getElementsByClassName("nhsuk-u-visually-hidden");i.length>0;)i[0].remove();o.innerText=n.innerText,o.innerHTML=o.innerHTML.replace(/<br\s*[\/]?>/gi," "),r.appendChild(o),e.appendChild(r)}})),this.anchorLinks.appendChild(e),this.anchorLinks.hidden=!1}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s(document.getElementsByClassName("nhsuk-anchor-links")).forEach((function(t){return new o(t)})),h(),new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.useCookies="",this.banner=document.querySelector(".nhsuk-cookie-banner"),this.showCookies=document.getElementById("showCookies"),this.removeCookies=document.getElementById("removeCookies"),this.host=this.getHost(),this.cookieStatus(),this.setCookies(),this.addEventListeners(),this.Status=document.querySelector(".nhsuk__cookieStatus"),this.In=document.querySelectorAll(".nhsuk__cookiesIn"),this.Out=document.querySelectorAll(".nhsuk__cookiesOut"),this.toggleStatus()}var n,r;return n=t,(r=[{key:"cookieStatus",value:function(){var t=this;document.cookie.split(";").forEach((function(e){if(e.match(new RegExp("(^| )cookie_consent([^;]+)"))){var n=e.split("=")[1];t.useCookies=n}}))}},{key:"getHost",value:function(){return window.location.host.toString().split(":")[0]}},{key:"addEventListeners",value:function(){this.showCookies&&this.showCookies.addEventListener("mousedown",this.showCookie),this.removeCookies&&this.removeCookies.addEventListener("mousedown",this.removeCookie)}},{key:"bannerShow",value:function(){this.banner&&(this.banner.style.display="block")}},{key:"bannerHide",value:function(){this.banner&&(this.banner.style.display="none")}},{key:"setCookies",value:function(){var t=this;if(""===this.useCookies){this.bannerShow();var e=document.querySelector("#nhsuk-cookie-banner__link_accept_analytics");e&&e.addEventListener("click",(function(e){e.preventDefault(),t.bannerHide(),t.useCookie()}));var n=document.querySelector("#nhsuk-cookie-banner__link_decline_analytics");n&&n.addEventListener("click",(function(e){e.preventDefault(),t.bannerHide(),t.noCookie()}))}}},{key:"useCookie",value:function(){document.cookie="cookie_consent=true; domain=".concat(this.host,"; max-age=7776000"),location.reload()}},{key:"noCookie",value:function(){document.cookie="cookie_consent=false; domain=".concat(this.host,"; max-age=7776000"),location.reload()}},{key:"toggleStatus",value:function(){var t=this;this.Status&&(document.querySelector("button.nhsuk__cookiesOut").addEventListener("click",(function(e){e.preventDefault(),t.bannerHide(),t.useCookie(),location.reload()})),document.querySelector("button.nhsuk__cookiesIn").addEventListener("click",(function(e){e.preventDefault(),t.bannerHide(),t.noCookie(),location.reload()})),"false"===this.useCookies||""===this.useCookies?(this.displayBlock(this.Out),this.displayNone(this.In)):(this.displayNone(this.Out),this.displayBlock(this.In)))}},{key:"displayBlock",value:function(t){t.forEach((function(t){return t.style.display="inline-block"}))}},{key:"displayNone",value:function(t){t.forEach((function(t){return t.style.display="none"}))}},{key:"showCookie",value:function(){document.getElementById("cookies").textContent="> "+document.cookie}},{key:"removeCookie",value:function(){document.cookie="cookie_consent=false; max-age=0",location.reload()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}())(document),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.checkboxes=R(this.container.getElementsByClassName("nhsuk-checkboxes__input")),this.groups=R(this.container.getElementsByClassName("nhsuk-filter__group")),this.submit=this.container.querySelector(".nhsuk-filter__submit"),this.clearToggle=R(this.container.getElementsByClassName("nhsuk-filter__group__clear")),this.setUp(),this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.checkboxes.forEach((function(e){e.addEventListener("change",(function(e){return t.updateResults(e)}))})),this.groups.forEach((function(e){var n=e.querySelector(".nhsuk-fieldset__legend");n&&n.addEventListener("click",(function(e){return t.toggleGroup(e)}))})),this.clearToggle.forEach((function(e){e.addEventListener("click",(function(e){return t.clearCheckboxes(e)}))}))}},{key:"setUp",value:function(){var t=this;this.container.classList.add("nhsuk-filter--js"),this.clearToggle.forEach((function(e){t.toggleClearLinkVisibility(e)})),this.submit&&(this.submit.hidden=!0)}},{key:"toggleGroup",value:function(t){t.preventDefault(),t.target.closest(".nhsuk-filter__group").classList.toggle("nhsuk-filter__group--closed")}},{key:"updateResults",value:function(t){this.container.submit()}},{key:"clearCheckboxes",value:function(t){t.preventDefault(),R(t.target.parentElement.querySelectorAll(".nhsuk-checkboxes__input")).forEach((function(t){t.removeAttribute("checked")})),this.updateResults(t)}},{key:"toggleClearLinkVisibility",value:function(t){for(var e=R(t.parentElement.querySelectorAll(".nhsuk-checkboxes__input")),n=0;n<e.length;n++)if(e[n].hasAttribute("checked")){t.classList.add("visible");break}}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),R(document.getElementsByClassName("nhsuk-filter")).forEach((function(t){return new r(t)})),J(),n=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g(e.querySelectorAll(".hee-listing__filter__sort, .nhsuk-listing__sort")).forEach((function(t){n.addEventListeners(t),n.toggleJavascriptElements(t)}))}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(t){var e=this;t&&g(t.getElementsByTagName("select")).forEach((function(n){n.addEventListener("change",(function(n){return e.updateResults(t)}))}))}},{key:"toggleJavascriptElements",value:function(t){t&&g(t.querySelectorAll(".hee-listing__filter__submit, .nhsuk-listing__sort__submit")).forEach((function(t){t&&(t.hidden=!0)}))}},{key:"updateResults",value:function(t){t.submit()}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g(document.querySelectorAll(".hee-listing, .nhsuk-listing")).forEach((function(t){return new n(t)})),L(),t=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e,this.svg=n,this.regions=_(n.getElementsByClassName("nhsuk-region")),this.list=_(e.querySelectorAll("#regionList li a")),this.addLinksToMap(),this.cleanStyle(),this.mapEventListeners(),this.linkEventListeners()}var e,n;return e=t,(n=[{key:"cleanStyle",value:function(){this.svg.querySelector("style").innerHTML="",this.svg.querySelector("style").appendChild(document.createTextNode("\n        .st0{fill:#005EB8;stroke:#FFFFFF;stroke-width:0.5;stroke-miterlimit:10;}\n        .st1{fill:#AEB7BD;stroke:#FFFFFF;stroke-width:0.5;stroke-miterlimit:10;}\n        .hover * {stroke:#ffeb3b;stroke-width: 6;stroke-miterlimit: 1;}\n        .focus .st0 {fill:#ffeb3b;stroke:#212b32;}\n        .focus * {stroke-width: 6;stroke-miterlimit: 1;}\n      "))}},{key:"addLinksToMap",value:function(){var t=this;this.regions.forEach((function(e){var n=t.mapCounterpart(e.id),r=n.href?n.href:"/",o=n.innerHTML?n.innerHTML:"",i=e.innerHTML,a='<a xlink:href="'.concat(r,'" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <title>').concat(o,"</title>\n          ").concat(i,"\n        </a>");e.innerHTML=a}))}},{key:"mapEventListeners",value:function(){var t=this;this.regions.forEach((function(e){return e.addEventListener("mouseenter",(function(){return t.mapIn(e,"hover",!0)}))})),this.regions.forEach((function(e){return e.addEventListener("mouseout",(function(){return t.mapOut(e,"hover",!0)}))})),this.regions.forEach((function(e){return e.addEventListener("click",(function(e){return t.mapClick(e)}))}))}},{key:"linkEventListeners",value:function(){var t=this;this.list.forEach((function(e){return e.addEventListener("mouseenter",(function(e){return t.linkEvent(e.target,"in","hover")}))})),this.list.forEach((function(e){return e.addEventListener("mouseout",(function(e){return t.linkEvent(e.target,"out","hover")}))})),this.list.forEach((function(e){return e.addEventListener("focusin",(function(e){return t.linkEvent(e.target,"in","focus")}))})),this.list.forEach((function(e){return e.addEventListener("focusout",(function(e){return t.linkEvent(e.target,"out","focus")}))}))}},{key:"moveToTop",value:function(t){t.parentElement.appendChild(t)}},{key:"mapIn",value:function(t,e,n){if(this.moveToTop(t),t.classList.add(e),n){var r=this.mapCounterpart(t.id);r&&r.classList.add("hover")}}},{key:"mapOut",value:function(t,e,n){if(t.classList.remove(e),n){var r=this.mapCounterpart(t.id);r&&r.classList.remove("hover")}}},{key:"mapClick",value:function(t){t.preventDefault();var e=this.mapCounterpart(t.target.closest("g").id);e&&e.click()}},{key:"mapCounterpart",value:function(t){return this.list.find((function(e){return e.id===t}))}},{key:"linkEvent",value:function(t,e,n){var r=t.id,o=this.linkCounterpart(r);"in"===e?this.mapIn(o,n):this.mapOut(o,n)}},{key:"linkCounterpart",value:function(t){return this.regions.find((function(e){return e.id===t}))}}])&&j(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_(document.querySelectorAll(".nhsuk-map")).forEach((function(e){var n=e.querySelector("object");n.addEventListener("load",(function(){var r=n.getSVGDocument().querySelector("svg");r&&new t(e,r)}))})),i(),P(),v(),D()}))})();